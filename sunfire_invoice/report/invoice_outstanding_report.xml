<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="invoice_outstanding_report_view_tree" model="ir.ui.view">
            <field name="name">invoice_outstanding.report.view.tree</field>
            <field name="model">invoice_outstanding.report</field>
            <field name="arch" type="xml">
                <tree default_order='date_due desc'>
                    <field name="sam" string="Sales Person"/>
                    <field name="cust" string="Customer Name"/>
                    <field name="inv_date" string="Invoice Date"/>
                    <field name="inv_no" string="Invoice No."/>
                    <field name="total" string="Invoice Amount (Including Tax)"/>
                    <field name="opfno" string="OPF No."/>
                    <field name="po_ref" string="Customer PO No."/>
                    <field name="paymnt_term" string="Payment Terms"/>
                    <field name="term_days" string="Credit Days"/>
                    <field name="date_due" string="Due Date"/>
                    <field name="payment_recieved" string="Payment Received Amount"/>
                    <!-- <field name="tds"/> -->
                    <field name="due_amt" string="Invoice Balance Amount"/>
                    <field name="opf_date" invisible="1"/>
                    <field name="podate" invisible="1"/>
                    <field name="inv_name" invisible="True"/>
                    <field name="inv_state" invisible="1"/>
                    <field name="pricelist_id" invisible="1"/>
                </tree>
            </field>
        </record>

        <!-- Pieline Report search view -->
        <record id="invoice_outstanding_report_view_search" model="ir.ui.view">
            <field name="name">invoice_outstanding.report.view.search</field>
            <field name="model">invoice_outstanding.report</field>
            <field name="arch" type="xml">
                <search string="Search Description">
                    <!-- Add your fields here -->
                    <field name="opfno"/>
                    <field name="po_ref"/>
                    <field name="opf_date"/>
                    <field name="sam"/>
                    <field name="podate"/>
                    <field name="inv_name"/>
                    <field name="inv_no"/>
                    <field name="inv_state"/>
                    <field name="total"/>
                    <field name="date_due"/>
                    <field name="due_amt"/>
                    <field name="cust"/>
                    <field name="paymnt_term"/>
                    <field name="term_days"/>
                <filter string="Outstanding for last 7 days" name="outstanding_before_7days" domain="[('date_due','&lt;',datetime.datetime.now()),('date_due', '&gt;', datetime.datetime.now()-datetime.timedelta(days=7))]"/>
                <filter string="Outstanding for next 7 days" name="outstanding_after_7days" domain="[('date_due','&gt;',datetime.datetime.now()),('date_due', '&lt;', datetime.datetime.now()+datetime.timedelta(days=7))]"/>
                <filter string="Outstanding for next 15 days" name="outstanding_after_15days" domain="[('date_due','&gt;',datetime.datetime.now()),('date_due', '&lt;', datetime.datetime.now()+datetime.timedelta(days=15))]"/>
                <filter string="Outstanding for next 30 days" name="outstanding_before_30days" domain="[('date_due','&gt;',datetime.datetime.now()),('date_due', '&lt;', datetime.datetime.now()+datetime.timedelta(days=30))]"/>
                <filter string="Outstanding for next 45 days" name="outstanding_before_45days" domain="[('date_due','&gt;',datetime.datetime.now()),('date_due', '&lt;', datetime.datetime.now()+datetime.timedelta(days=45))]"/>
                <!-- <filter string="Timesheet for last 30 days" name="time_a_before_mnth" domain="[('create_date','&gt;',datetime.datetime.now()-datetime.timedelta(days=30))]"/> -->
                </search>
            </field>
        </record>
        <record id="invoice_outstanding_report_action" model="ir.actions.act_window">
            <field name="name">invoice Outstanding Report</field>
            <field name="res_model">invoice_outstanding.report</field>
            <field name="view_mode">tree,pivot,graph,kanban</field>
            <field name="search_view_id" ref="invoice_outstanding_report_view_search"/>
            <field name="view_ids" eval="[(5, 0, 0), 
        (0, 0, {'view_mode': 'tree','view_id': ref('invoice_outstanding_report_view_tree')})]"/>
        </record>
        <menuitem id="invoice_outstanding_report_sale_submenu" action="invoice_outstanding_report_action" sequence="0" name="Outstanding Report" parent="sale.menu_sale_report"/>
        <menuitem id="invoice_outstanding_report_invoice_submenu" action="invoice_outstanding_report_action" sequence="0" name="Outstanding Report" parent="account.account_reports_management_menu" />
    </data>
</odoo>


















